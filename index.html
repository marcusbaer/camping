<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Camping</title>
    <style>
        html { font-family: sans-serif; font-size: 20px; }
        body { background: rgb(58, 50, 50); color: white; }
        footer { display: flex; justify-content: space-around; margin-top: 40px; }
        nav ul { display: flex; list-style: none; justify-content: space-around; padding: 0; }
        nav a { color: white; }
        @media (prefers-color-scheme: dark) {
            :root {
                filter: invert(100%);
            }
        }
    </style>
    <link rel="icon" href="./icon.svg" type="image/svg+xml">
    <link rel="manifest" href="manifest.json">
    <script src="./vendor/markdown-it.min.js"></script>
    <script type="module" src="./components/essential.js" async></script>
    <script type="module">
        import { installer, serviceWorker } from './modules/pwa.js';
        import './components/critical.js';

        const renderPage = () => {
            if (navigator.share) {
                shareButton.addEventListener('click', () => {
                    const url = new URL(location.href);
                    navigator.share({
                        title: 'PWA',
                        text: 'This cool PWA also supports new windows',
                        url: url.href,
                    })
                    .then(() => console.log('Successful share'))
                    .catch((error) => console.log('Error sharing', error));
                });
            } else {
                shareButton.style.display = "none";
            }

            // const newWindowButton = document.querySelector('#new');
            // const windows = [];
            // newWindowButton.addEventListener('click', (event) => {
            //     const counter = windows.length + 1;
            //     const handler = window.open(`./details.html?counter=${counter}`, `window-${counter}`, `height=600, width=400, left=${counter * 40 + 100}, top=${counter * 40 + 100}, menubar=no, status=no, location=no, titlebar=no`);
            //     windows.push(handler);
            // });
        }

        (async () => {
            const serviceWorkerRegistration = await serviceWorker('./sw.js', './');
            installer('#installButton');

            renderPage();
        })()
    </script>
</head>
<body>
    <header>CAMPING</header>
    <main>
        <md-content># Camping

Wichtiges immer zur Hand
</md-content>
        <hr>
    </main>
    <nav>
        <ul>
            <li><a href="map.html">Karte mit Adressen</a></li>
            <li><a href="cms.html?src=./equipment/faltcaravan.md">Ausr√ºstung</a></li>
            <li><a href="documents/Jamet_Arizona.pdf">Aufbauanleitung</a></li>
            <li><a href="qr.html">QR-Scanner</a></li>
            <li><a href="demo.html">Demo</a></li>
        </ul>
    </nav>
    <footer>
        <button id="installButton">Install App</button>
        <button id="shareButton">Share</button>
    </footer>
</body>
</html>